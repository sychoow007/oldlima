@inherits Umbraco.Web.Mvc.UmbracoTemplatePage
@{ var home = CurrentPage.Site(); }

<nav class="navbar navbar-default">
    <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="/">
            <img class="brand img-responsive" srcset="~/Content/Images/oldlima-logo.png" src="~/Content/Images/oldlima-logo.png" />
        </a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
        @if (home.Children.Any())
        {
            @* Get the first page in the children *@
        var naviLevel = home.Children.First().Level;

        @* Add in level for a CSS hook *@
            <ul class="nav navbar-nav">
                @* For each child page under the home node *@
                @foreach (var childPage in home.Children)
                {
                    if (childPage.DocumentTypeAlias != "Basket" && childPage.DocumentTypeAlias != "CheckoutFolder")
                    {
                        <li class="@(childPage.IsAncestorOrSelf(CurrentPage) ? "active" : null)">
                            <a href="@childPage.Url">@childPage.Name</a>
                        </li>
                    }
                }
            </ul>
        }
    </div>
</nav>
